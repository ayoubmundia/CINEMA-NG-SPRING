<div class="col-md-12 padding-ville " style="padding-top: 20px;padding-right:8% ; padding-left: 8%;">
    <div class="card text-white bg-dark mb-3">
        <div class="card-header text-center">Gestion Des Films</div>
        <div class="card-body bg-light" style="border-color: black !important;">
            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#AddFilm" style="float: right;">Add New Film</button>
            <table class="table table-striped table-dark" style="margin-top:3%">
                <thead>
                    <tr>
                        <th scope="col">Photo</th>
                        <th scope="col">Titre</th>
                        <th scope="col">Realisateur</th>
                        <th scope="col">Description</th>
                        <th scope="col">DateSortie</th>
                        <th scope="col">Duree</th>

                        <th scope="col-md-4">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let f of films._embedded.films">
                        <td *ngIf="f.photo">
                            <img class="rounded-circle" width="80px" height="80px"
                                src="http://localhost:8089/imageFilm/{{f.id}}">
                        </td>
                        <td *ngIf="!f.photo">
                            <img class="rounded-circle" width="80px" height="80px"
                                src="../../assets/not-found.png">
                        </td>
                        <td>{{f.titre}}</td>
                        <td>{{f.realisateur}}</td>
                        <td>{{f.description}}</td>
                        <td>{{f.dateSortie}}</td>
                        <td>{{f.duree}}h</td>
                        <td>
                            <div class="row text-center">
                                <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#UpdateFilm"
                                    style="border-color: brown;" (click)="infoFilm(f)">Update</button>
                                <button type="button" class="btn btn-danger" (click)="DeletFilm(f)">Delete</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!--Update Film-->
<div class="modal fade" id="UpdateFilm" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Update Film</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form [formGroup]="update_film" (ngSubmit)="UpdateFilm()">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row justify-content-center" *ngIf="currentfilms" style="padding-bottom: 10px;">
                                <div class="col-md-3 align-self-center" *ngIf="currentfilms.photo">
                                    <img class="rounded-circle text-center" width="100px" height="100px"
                                        src="http://localhost:8089/imageFilm/{{currentfilms.id}}">
                                </div>
                                <div class="col-md-3 align-self-center" *ngIf="!currentfilms.photo">
                                    <img class="rounded-circle text-center" width="100px" height="100px"
                                        src="../../assets/not-found.png">
                                </div>
                                <div class="col-md-8 align-self-center">
                                    <input type="file" id="myFile" name="filename2" (change)="onFileChanged($event)">
                                </div>
                                <div class="col-md-12 align-self-center">
                                    <button class="btn btn-danger btn-block" (click)="onUpload()">Uplaod New Image</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <label class="control-label">Titre:</label>
                            <input class="form-control" type="text" formControlName="titre">
                            <label class="control-label">Description</label>
                            <input class="form-control" type="text" formControlName="description">
                            <label class="control-label">Realisateur</label>
                            <input class="form-control" type="text" formControlName="realisateur">
                            <label class="control-label">Duree</label>
                            <input class="form-control" type="number" formControlName="duree">
                            <label class="control-label">Date Sortie</label>
                            <input class="form-control" type="date" formControlName="dateSortie">
                        </div>
                    </div>


                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" >Modifier</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!--Add Film-->
<div class="modal fade" id="AddFilm" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Add New Film</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form [formGroup]="new_film" (ngSubmit)="addFilm()">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label class="control-label">Titre:</label>
                            <input class="form-control" type="text" formControlName="new_titre">
                            <label class="control-label">Description</label>
                            <input class="form-control" type="text" formControlName="new_description">
                            <label class="control-label">Realisateur</label>
                            <input class="form-control" type="text" formControlName="new_realisateur">
                            <label class="control-label">Duree</label>
                            <input class="form-control" type="number" formControlName="new_duree">
                            <label class="control-label">Date Sortie</label>
                            <input class="form-control" type="date" formControlName="new_dateSortie">
                        </div>
                    </div>


                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" >Ajouter</button>
                </div>
            </form>
        </div>
    </div>
</div>